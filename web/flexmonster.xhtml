<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
    <h:head>
        <title>Flex Monster</title>
        <h:outputStylesheet name="./assets/css/style.css"/>
        <style>
            #fm-pivot-view:nth-child(10) {
                display:  none !important;
                text-shadow: none !important;
            }
        </style>
    </h:head>
    <h:body>
        <!-- 1. Create a DIV container to insert the component -->
        <div id="pivotContainer"></div>

        <h:outputScript name="./component/flexmonster/flexmonster.js"/>
        <!-- 3. Embed the component using flexmonster.embedPivotComponent() -->
        <script type="text/javascript">
            var jsonData = #{jsonBean.getjSONArray()};

            var report = {
                dataSourceType: "json",
                data: jsonData,
                measures: [
                    {uniqueName: "Number", aggregation: "sum"},
                    {uniqueName: "Sum Number", aggregation: "average"}
                ],
                //numbers formatting
                formats: [
                    {name: "", nullValue: "blank"},
                    {name: "currency", decimalPlaces: 2, currencySymbol: "$", nullValue: "-"}
                ],
                licenseKey: "Z53H-7B1PX3-3H16-3D01-1O36-0E0Q-3933-0G02-1U2W-08"
            };

            flexmonster.embedPivotComponent("flexmonster/", "pivotContainer", "100%", "500", report, true);

        </script>

    </h:body>
</html>

